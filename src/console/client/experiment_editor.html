<!DOCTYPE html>
<html>
  <head>
    <script src="src/vue.js"></script>
    <title>Ninja qPCR</title>
    <meta charset="UTF-8">
    <link rel='stylesheet' href='./css/ninjaqpcr.css'/>
  </head>
  <body>
    <!-- Editor -->
    <h1>Protocol Editor</h1>
    <div id="protocolEditor">
      Lid temp: <input v-model.number="lidTemp" type="number"/>
      <div v-for="(stage, index) in stages">
        <div v-if="stage.type==1">
          <h3>Hold Stage</h3>
          <ul>
            <li>
              <input v-model.number="stage.steps[0].temp" type="number"/>℃
              <input v-model.number="stage.steps[0].duration" type="number" step="1"/>sec
            </li>
          </ul>
        </div>
        <div v-if="stage.type==2">
          <h3>PCR Stage</h3>
          Repeat <input v-model.number="stage.repeat" type="number"/> times
          <ul>
            <li>
              Extending
              <input v-model.number="stage.steps[0].temp" type="number"/>℃
              <input v-model.number="stage.steps[0].duration" type="number" step="1"/>sec
            </li>
            <li>
              Annealing
              <input v-model.number="stage.steps[1].temp" type="number"/>℃
              <input v-model.number="stage.steps[1].duration" type="number" step="1"/>sec
            </li>
            <li>
              Extending
              <input v-model.number="stage.steps[2].temp" type="number"/>℃
              <input v-model.number="stage.steps[2].duration" type="number" step="1"/>sec
            </li>
          </ul>
        </div>
        <div v-if="stage.type==3">
          <h3>Melt Curve Stage</h3>
          <ul>
            <li>
              Denaturing
              <input v-model.number="stage.steps[0].temp" type="number"/>℃
              <input v-model.number="stage.steps[0].duration" type="number" step="1"/>sec
              <input v-model.number="stage.steps[0].speed" type="number" step="1"/>℃/sec
            </li>
            <li>
              Cooling
              <input v-model.number="stage.steps[1].temp" type="number"/>℃
              <input v-model.number="stage.steps[1].duration" type="number" step="1"/>sec
              <input v-model.number="stage.steps[1].speed" type="number" step="1"/>℃/sec
            </li>
            <li>
              Melting
              <input v-model.number="stage.steps[2].temp" type="number"/>℃
              <input v-model.number="stage.steps[2].duration" type="number" step="1"/>sec
              <input v-model.number="stage.steps[2].speed" type="number" step="1"/>℃/sec
            </li>
          </ul>
        </div>
        <button v-on:click="confirmDelete(index)">Delete</button>
      </div>
      <div>
        Add: 
        <button v-on:click="addHold">Hold</button>
        <button v-on:click="addPCR">PCR</button>
        <button v-on:click="addMeltCurve">Melt Curve</button>
      </div>
      <div>
        <button v-on:click="save">Save</button>
      </div>
    </div>
    
    <!-- Viewer -->
    
    <h1>Protocol Viewer</h1>
    <div id="protocolViewer">
      Lid temp:{{lidTemp}}
      <div v-for="(stage, index) in stages">
        <div v-if="stage.type==1">
          <h3>Hold Stage</h3>
          <ul>
            <li>
              {{stage.steps[0].temp}}℃
              {{stage.steps[0].duration}}sec
            </li>
          </ul>
        </div>
        <div v-if="stage.type==2">
          <h3>PCR Stage</h3>
          Repeat {{stage.repeat}} times
          <ul>
            <li>
              Extending
              {{stage.steps[0].temp}}℃
              {{stage.steps[0].duration}}sec
            </li>
            <li>
              Annealing
              {{stage.steps[1].temp}}℃
              {{stage.steps[1].duration}}sec
            </li>
            <li>
              Extending
              {{stage.steps[2].temp}}℃
              {{stage.steps[2].duration}}sec
            </li>
          </ul>
        </div>
        <div v-if="stage.type==3">
          <h3>Melt Curve Stage</h3>
          <ul>
            <li>
              Denaturing
              {{stage.steps[0].temp}}℃
              {{stage.steps[0].duration}}sec
              {{stage.steps[0].speed}}℃/sec
            </li>
            <li>
              Cooling
              {{stage.steps[1].temp}}℃
              {{stage.steps[1].duration}}sec
              {{stage.steps[1].speed}}℃/sec
            </li>
            <li>
              Melting
              {{stage.steps[2].temp}}℃
              {{stage.steps[2].duration}}sec
              {{stage.steps[2].speed}}℃/sec
            </li>
          </ul>
        </div>
      </div>
    </div>
    
    <script src="src/experiment_editor.js"></script>
  </body>
</html>