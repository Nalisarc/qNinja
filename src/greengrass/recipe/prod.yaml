#
# AWS IoT Greengrass component recipe reference
# https://docs.aws.amazon.com/greengrass/v2/developerguide/component-recipe-reference.html
#                  
RecipeFormatVersion: 2020-01-25
ComponentName: dev.hisa.Ninja-prod
ComponentVersion: '1.0.11'
ComponentDescription: Ninja qPCR Greengrass component
ComponentPublisher: Toriningen Inc.
Manifests:
  - Platform:
      os: linux
    Artifacts:
      - URI: s3://gg-ninja-qpcr/artifacts/dev.hisa.Ninja/1.0.11/src-prod.zip
        Unarchive: ZIP
    Lifecycle:
      Install:
        Skipif: onpath node
        Script: |
          whoami
          curl -sL https://deb.nodesource.com/setup_12.x | sudo bash -
          sudo apt-get install -y nodejs
          node --version
      Run: |
        python3 {artifacts:decompressedPath}/src-prod/src/greengrass/recipe/hello_world.py

